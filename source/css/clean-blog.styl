/*
 * Clean Blog Theme for Hexo
 * Based on the StartBootstrap Clean Blog theme
 */

// Import Bootstrap CSS first via CDN in head.ejs
// This file contains theme-specific overrides and custom styles

// Variables
$primary-color = #0085A1
$dark-color = #212529
$gray-100 = #f8f9fa
$gray-200 = #e9ecef
$gray-300 = #dee2e6
$gray-400 = #ced4da
$gray-500 = #adb5bd
$gray-600 = #6c757d
$gray-700 = #495057
$gray-800 = #343a40
$gray-900 = #212529

$font-family-sans = 'Open Sans', 'Helvetica Neue', Arial, sans-serif
$font-family-serif = 'Lora', 'Times New Roman', serif

// Global styles
body
  font-family $font-family-serif
  font-size 18px
  color $dark-color

h1, h2, h3, h4, h5, h6
  font-family $font-family-sans
  font-weight 800

p
  line-height 1.7
  margin 30px 0

  a
    text-decoration underline
    color $dark-color

    &:hover
      color $primary-color

// Typography
.page-heading, .post-heading, .site-heading
  h1
    font-size 50px
    margin-top 0
    margin-bottom 35px

  .subheading, .meta
    font-family $font-family-sans
    font-size 22px
    font-weight 300
    line-height 1.1
    display block
    margin 10px 0 0 0
    color $gray-600

@media only screen and (min-width: 768px)
  .post-heading h1, .page-heading h1, .site-heading h1
    font-size 80px

// Navigation
#mainNav
  background-color transparent
  border-bottom 1px solid $gray-200
  font-family $font-family-sans
  z-index 1030  // Bootstrap导航栏标准z-index

  .navbar-brand
    font-weight 800
    color $gray-800

  .navbar-toggler
    font-size 12px
    font-weight 800
    padding 13px
    text-transform uppercase
    color $gray-800

  .navbar-nav > li.nav-item > a
    font-size 12px
    font-weight 800
    letter-spacing 1px
    text-transform uppercase
    color $gray-800

    &:hover
      color $primary-color

// 移动端导航栏设置白色不透明背景
@media only screen and (max-width: 991px)
  #mainNav
    background-color white
    opacity 1

@media only screen and (min-width: 992px)
  #mainNav
    background-color transparent
    border-bottom 1px solid transparent

    .navbar-brand
      color white

      &:hover
        color rgba(255, 255, 255, 0.8)

    .navbar-nav > li.nav-item > a
      color white

      &:hover
        color rgba(255, 255, 255, 0.8)

#mainNav.is-fixed
  position fixed
  top -77px
  background-color rgba(255, 255, 255, 0.9)
  border-bottom 1px solid $gray-200
  transform translateY(77px)

#mainNav.is-visible
  transform translateY(0)

// Masthead
.masthead
  position relative
  background color $gray-500
  background no-repeat center center
  background-attachment scroll
  background-size cover
  padding 200px 0 150px

  .overlay
    position absolute
    top 0
    left 0
    height 100%
    width 100%
    background-color $dark-color
    opacity 0.5
    z-index 1  // 降低overlay的层级

  .page-heading, .post-heading, .site-heading
    position relative
    text-align center
    color white
    z-index 2  // 标题在overlay上方
    
    // 确保副标题也在overlay上方
    .subheading
      position relative
      z-index 3  // 比父元素高一点以确保可见性
      color white
      background none  // 移除可能存在的背景色


@media only screen and (min-width: 768px)
  .masthead
    padding 200px 0

// Article spacing - 增加正文与头图之间的间距，保持与段落间距一致
article
  margin-top 30px

// Post Preview
.post-preview
  a
    text-decoration none
    color $dark-color

    &:hover
      text-decoration none
      color $primary-color

      .post-title
        color $primary-color

  .post-title
    font-size 30px
    font-weight 700
    margin-top 30px
    margin-bottom 10px

  .post-subtitle
    font-weight 300
    margin 0 0 10px

  .post-meta
    font-size 20px !important
    font-weight 300 !important
    font-style italic !important
    font-family "Lora", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji" !important
    margin-top 0
    color $gray-600 !important
    line-height 1.6

    a
      text-decoration none
      color $gray-600

      &:hover
        color $primary-color
        text-decoration underline

@media only screen and (min-width: 768px)
  .post-preview .post-title
    font-size 36px

// Footer
footer
  padding 50px 0 65px

  .list-inline
    margin 0
    padding 0

  .copyright
    font-family $font-family-sans
    font-size 14px
    margin-bottom 0
    text-align center

// Contact Form
#contactForm .floating-label-form-group
  border-bottom 1px solid $gray-200

  input, textarea
    font-size 1.5em
    position relative
    z-index 1
    padding 0
    resize none
    border none
    border-radius 0
    background none
    box-shadow none !important
    font-family $font-family-serif

// Buttons
.btn
  font-family $font-family-sans
  font-size 14px
  font-weight 800
  letter-spacing 1px
  border-radius 0
  padding 15px 25px
  text-transform uppercase

.btn-primary
  background-color $primary-color
  border-color $primary-color

  &:hover, &:focus, &:active
    color white
    background-color darken($primary-color, 7.5%)
    border-color darken($primary-color, 7.5%)

// Pager
.pager
  list-style none
  padding 0
  margin 20px 0
  text-align center

  li
    display inline

    a, span
      font-family $font-family-sans
      font-size 14px
      font-weight 800
      letter-spacing 1px
      padding 15px 25px
      text-transform uppercase
      background-color white
      border-radius 0

// 响应式图片 - 确保文章中的图片不会超出容器宽度
article img
  max-width 100%
  height auto
  display block
  margin 30px auto

// 代码块样式 - 确保不超出宽度，添加浅灰色背景，优化序号与内容区隔
article pre, article code, article .highlight
  max-width 100%
  overflow-x auto  // 允许水平滚动
  white-space pre-wrap  // 保留空格和换行
  word-wrap break-word  // 长单词换行

// 代码块容器
article pre, article .highlight
  background-color #f6f8fa  // 浅灰色背景
  border-radius 4px
  padding 16px
  margin 30px 0
  font-family 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace
  font-size 14px

// 行内代码
article code
  background-color #f6f8fa
  padding 2px 4px
  border-radius 3px
  font-size 0.9em

// 代码高亮块中的行号样式优化
article .highlight .gutter
  padding-right 12px  // 右侧空格分隔
  text-align right
  color #6a737d

// 代码内容区域
article .highlight .code
  padding-left 8px  // 左侧空格分隔

// 确保有序列表中的代码块正确显示
article ol li pre, article ul li pre
  margin-left 0
  margin-right 0